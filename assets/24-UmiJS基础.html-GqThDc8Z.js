import{_ as p}from"./plugin-vue_export-helper-x3n3nnut.js";import{r as o,o as c,c as i,a as s,d as n,b as t,f as e}from"./app-tt0ZouaX.js";const l={},u=e(`<h1 id="_24-umijsåŸºç¡€" tabindex="-1"><a class="header-anchor" href="#_24-umijsåŸºç¡€" aria-hidden="true">#</a> 24 UmiJSåŸºç¡€</h1><h2 id="_1-å¸¸ç”¨é…ç½®é¡¹" tabindex="-1"><a class="header-anchor" href="#_1-å¸¸ç”¨é…ç½®é¡¹" aria-hidden="true">#</a> 1.å¸¸ç”¨é…ç½®é¡¹</h2><h3 id="_1-1-title" tabindex="-1"><a class="header-anchor" href="#_1-1-title" aria-hidden="true">#</a> 1.1 title</h3><ul><li>ç±»å‹ï¼š<code>string</code></li><li>é»˜è®¤å€¼ï¼š<code>null</code></li></ul><p>é…ç½®å…¨å±€é¡µé¢ titleï¼Œæš‚æ—¶åªæ”¯æŒé™æ€çš„ Titleã€‚</p><p>æ¯”å¦‚ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&#39;hi&#39;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ­¤å¤–ï¼Œä½ è¿˜å¯ä»¥é’ˆå¯¹è·¯ç”±é…ç½®æ ‡é¢˜ï¼Œæ¯”å¦‚ï¼Œ</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&#39;hi&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">routes</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&#39;/&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&#39;Home&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&#39;/users&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&#39;Users&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&#39;/foo&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç„¶åæˆ‘ä»¬è®¿é—® <code>/</code> æ ‡é¢˜æ˜¯ <code>Home</code>ï¼Œè®¿é—® <code>/users</code> æ ‡é¢˜æ˜¯ <code>Users</code>ï¼Œè®¿é—® <code>/foo</code> æ ‡é¢˜æ˜¯é»˜è®¤çš„ <code>hi</code>ã€‚</p><p>æ³¨æ„ï¼š</p><ul><li>é»˜è®¤ä¸ä¼šåœ¨ HTML é‡Œè¾“å‡º <code>&lt;title&gt;</code> æ ‡ç­¾ï¼Œé€šè¿‡åŠ¨æ€æ¸²æŸ“å¾—åˆ°</li><li>é… <code>exportStatic</code> åä¼šä¸ºæ¯ä¸ª HTML è¾“å‡º <code>&lt;title&gt;</code> æ ‡ç­¾</li><li>å¦‚æœéœ€è¦è‡ªè¡Œé€šè¿‡ react-helmet ç­‰æ–¹å¼æ¸²æŸ“ titleï¼Œé… <code>title: false</code> å¯ç¦ç”¨å†…ç½®çš„ title æ¸²æŸ“æœºåˆ¶</li></ul><h3 id="_1-2-theme" tabindex="-1"><a class="header-anchor" href="#_1-2-theme" aria-hidden="true">#</a> 1.2 theme</h3><ul><li>ç±»å‹ï¼š<code>object</code></li><li>é»˜è®¤å€¼ï¼š<code>{}</code></li></ul><p>é…ç½® less å˜é‡ä¸»é¢˜ã€‚</p><p>ç¤ºä¾‹ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">theme</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&#39;@primary-color&#39;</span><span class="token operator">:</span> <span class="token string">&#39;#1DA57A&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-3-favicons" tabindex="-1"><a class="header-anchor" href="#_1-3-favicons" aria-hidden="true">#</a> 1.3 favicons</h3><ul><li>ç±»å‹ï¼š<code>string[]</code></li><li>é»˜è®¤å€¼ï¼š<code>null</code></li></ul><p>æ”¯æŒé…ç½®å¤šä¸ª favicon æ–‡ä»¶ã€‚é…ç½® favicons è·¯å¾„ï¼Œå¯ä»¥æ˜¯ç»å¯¹è·¯å¾„ï¼Œä¹Ÿå¯ä»¥æ˜¯åŸºäºé¡¹ç›®æ ¹ç›®å½•çš„ç›¸å¯¹è·¯å¾„ã€‚</p><p>æ¯”å¦‚ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">favicon</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token string">&#39;/assets/favicon.ico&#39;</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>å¦‚æœè¦ä½¿ç”¨æœ¬åœ°çš„å›¾ç‰‡ï¼Œå›¾ç‰‡è¯·æ”¾åˆ° <code>public</code> ç›®å½•</p></blockquote><p>HTML ä¸­ä¼šç”Ÿæˆï¼Œ</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>shortcut icon<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>image/x-icon<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/assets/favicon.ico<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>æ”¾åˆ°<code>src</code>ç›®å½•ä¸‹ä¼šè‡ªåŠ¨åœ¨htmlä¸­ç”Ÿæˆ</p></blockquote><h3 id="_1-4-proxy" tabindex="-1"><a class="header-anchor" href="#_1-4-proxy" aria-hidden="true">#</a> 1.4 proxy</h3><ul><li>ç±»å‹ï¼š<code>object</code></li><li>é»˜è®¤å€¼ï¼š<code>{}</code></li></ul><p>é…ç½®ä»£ç†åŠŸèƒ½ã€‚</p><p>æ¯”å¦‚ï¼Œ</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token literal-property property">proxy</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token string-property property">&#39;/api&#39;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&#39;target&#39;</span><span class="token operator">:</span> <span class="token string">&#39;http://jsonplaceholder.typicode.com/&#39;</span><span class="token punctuation">,</span>
    <span class="token string-property property">&#39;changeOrigin&#39;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token string-property property">&#39;pathRewrite&#39;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token string-property property">&#39;^/api&#39;</span> <span class="token operator">:</span> <span class="token string">&#39;&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç„¶åè®¿é—® <code>/api/users</code> å°±èƒ½è®¿é—®åˆ° http://jsonplaceholder.typicode.com/users çš„æ•°æ®ã€‚</p><p>æ³¨æ„ï¼šproxy åŠŸèƒ½ä»…åœ¨ dev æ—¶æœ‰æ•ˆã€‚</p><h3 id="_1-5-alias" tabindex="-1"><a class="header-anchor" href="#_1-5-alias" aria-hidden="true">#</a> 1.5 alias</h3><ul><li>ç±»å‹ï¼š<code>Record&lt;string, string&gt;</code></li><li>é»˜è®¤å€¼ï¼š<code>{}</code></li></ul><p>é…ç½®åˆ«åï¼Œå¯¹ import è¯­å¥çš„ source åšæ˜ å°„ã€‚</p><p>æ¯”å¦‚ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token punctuation">{</span>
  <span class="token literal-property property">alias</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">foo</span><span class="token operator">:</span> <span class="token string">&#39;/tmp/to/foo&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç„¶åä»£ç é‡Œ <code>import &#39;foo&#39;</code> å®é™…ä¸Šä¼š <code>import &#39;/tmp/to/foo&#39;</code>ã€‚</p><p>æœ‰å‡ ä¸ª <code>Tip</code>ã€‚</p><p>1ã€alias çš„å€¼æœ€å¥½ç”¨ç»å¯¹è·¯å¾„ï¼Œå°¤å…¶æ˜¯æŒ‡å‘ä¾èµ–æ—¶ï¼Œè®°å¾—åŠ  <code>require.resolve</code>ï¼Œæ¯”å¦‚ï¼Œ</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// â›”</span>
<span class="token punctuation">{</span>
  <span class="token literal-property property">alias</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">foo</span><span class="token operator">:</span> <span class="token string">&#39;foo&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
 
<span class="token comment">// âœ…</span>
<span class="token punctuation">{</span>
  <span class="token literal-property property">alias</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&#39;@c&#39;</span><span class="token operator">:</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;node:path&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;./src/components&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>	
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœä½¿ç”¨äº†<code>ts</code>ï¼Œè¿˜éœ€è¦é…ç½®</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
	<span class="token property">&quot;compilerOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token property">&quot;paths&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
			<span class="token property">&quot;@c/*&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;src/components/*&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>è¿™æ ·ä¼šæŠŠé»˜è®¤çš„é…ç½®è¦†ç›–ï¼Œç”±äºçŸ¥è¯†é™åˆ¶ï¼Œæš‚æ—¶è¿˜æœªæ‰¾åˆ°æ¯”è¾ƒå¥½çš„æ–¹æ³•å»è§£å†³ã€‚</p></blockquote><p>2ã€å¦‚æœä¸éœ€è¦å­è·¯å¾„ä¹Ÿè¢«æ˜ å°„ï¼Œè®°å¾—åŠ  <code>$</code> åç¼€ï¼Œæ¯”å¦‚</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// import &#39;foo/bar&#39; ä¼šè¢«æ˜ å°„åˆ° import &#39;/tmp/to/foo/bar&#39;</span>
<span class="token punctuation">{</span>
  <span class="token literal-property property">alias</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">foo</span><span class="token operator">:</span> <span class="token string">&#39;/tmp/to/foo&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
 
<span class="token comment">// import &#39;foo/bar&#39; è¿˜æ˜¯ import &#39;foo/bar&#39;ï¼Œä¸ä¼šè¢«ä¿®æ”¹</span>
<span class="token punctuation">{</span>
  <span class="token literal-property property">alias</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">foo$</span><span class="token operator">:</span> <span class="token string">&#39;/tmp/to/foo&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-6-lessloader" tabindex="-1"><a class="header-anchor" href="#_1-6-lessloader" aria-hidden="true">#</a> 1.6 lessLoader</h3><ul><li>ç±»å‹ï¼š<code>Object</code></li><li>é»˜è®¤å€¼ï¼š<code>{ modifyVars: userConfig.theme, javascriptEnabled: true }</code></li></ul>`,49),r={href:"https://github.com/webpack-contrib/less-loader#lessoptions",target:"_blank",rel:"noopener noreferrer"},d={href:"https://lesscss.org/usage/#less-options-math",target:"_blank",rel:"noopener noreferrer"},k=e(`<p><code>src/styles/index.less</code></p><div class="language-less line-numbers-mode" data-ext="less"><pre class="language-less"><code><span class="token variable">@myBg<span class="token punctuation">:</span></span> #bfa<span class="token punctuation">;</span>

<span class="token selector">.myMixin(<span class="token variable">@mixinBg</span>)</span> <span class="token punctuation">{</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token variable">@mixinBg</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>.umirc.ts</code></p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> defineConfig <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;umi&#39;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  lessLoader<span class="token operator">:</span> <span class="token punctuation">{</span>
    modifyVars<span class="token operator">:</span> <span class="token punctuation">{</span>
      hack<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">true;@import &#39;@/styles/index.less&#39;</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç„¶åå°±å¯ä»¥ä½¿ç”¨å…¨å±€<code>less</code>å®šä¹‰çš„å˜é‡ã€æ··åˆ...</p><div class="language-less line-numbers-mode" data-ext="less"><pre class="language-less"><code><span class="token comment">// background-color: @myBg;</span>
.<span class="token function">myMixin</span><span class="token punctuation">(</span>#bfa<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2-html-æ¨¡æ¿" tabindex="-1"><a class="header-anchor" href="#_2-html-æ¨¡æ¿" aria-hidden="true">#</a> 2.HTML æ¨¡æ¿</h2><h3 id="_2-1-ä¿®æ”¹é»˜è®¤æ¨¡æ¿" tabindex="-1"><a class="header-anchor" href="#_2-1-ä¿®æ”¹é»˜è®¤æ¨¡æ¿" aria-hidden="true">#</a> 2.1 ä¿®æ”¹é»˜è®¤æ¨¡æ¿</h3><p>é»˜è®¤æ¨¡æ¿å¦‚ä¸‹ï¼Œ</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>&lt;%= title %&gt;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>&lt;%= mountElementId %&gt;<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœè‡ªå®šä¹‰æ¨¡æ¿ï¼Œè¯·ç¡®ä¿åŒ…å« <code>&lt;%= title %&gt;</code> å’Œ <code>&lt;%= mountElementId %&gt;</code>ã€‚</p><p>æ–°å»º <code>src/pages/document.ejs</code>ï¼Œumi çº¦å®šå¦‚æœè¿™ä¸ªæ–‡ä»¶å­˜åœ¨ï¼Œä¼šä½œä¸ºé»˜è®¤æ¨¡æ¿ï¼Œæ¯”å¦‚ï¼š</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">doctype</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>utf-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Your App<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>root<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,13),v={href:"https://v3.umijs.org/zh-CN/config#title",target:"_blank",rel:"noopener noreferrer"},m=e(`<h3 id="_2-2-é…ç½®æ¨¡æ¿" tabindex="-1"><a class="header-anchor" href="#_2-2-é…ç½®æ¨¡æ¿" aria-hidden="true">#</a> 2.2 é…ç½®æ¨¡æ¿</h3><p>æ¨¡æ¿é‡Œå¯é€šè¿‡ context æ¥è·å–åˆ° umi æä¾›çš„å˜é‡ï¼Œcontext åŒ…å«ï¼š</p><ul><li><code>route</code>ï¼Œè·¯ç”±ä¿¡æ¯ï¼Œéœ€è¦æ‰“åŒ…å‡ºå¤šä¸ªé™æ€ HTML æ—¶ï¼ˆå³é…ç½®äº† exportStatic æ—¶ï¼‰æœ‰æ•ˆ</li><li><code>config</code>ï¼Œç”¨æˆ·é…ç½®ä¿¡æ¯</li></ul><p>æ¯”å¦‚ï¼š</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>icon<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>image/x-icon<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>&lt;%= context.config.publicPath %&gt;favicon.png<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="_3-æ ·å¼" tabindex="-1"><a class="header-anchor" href="#_3-æ ·å¼" aria-hidden="true">#</a> 3.æ ·å¼</h2><p>æœ¬æ–‡ä»‹ç»å„ç§åœ¨ Umi é¡¹ç›®ä¸­ä½¿ç”¨æ ·å¼çš„æ–¹å¼ã€‚</p><h3 id="_3-1-ä½¿ç”¨-css-æ ·å¼" tabindex="-1"><a class="header-anchor" href="#_3-1-ä½¿ç”¨-css-æ ·å¼" aria-hidden="true">#</a> 3.1 ä½¿ç”¨ CSS æ ·å¼</h3><p>ä½ å¯ä»¥åœ¨ Umi é¡¹ç›®ä¸­ä½¿ç”¨ <code>.css</code> æ–‡ä»¶å£°æ˜å„ç§æ ·å¼ï¼Œç„¶ååœ¨ <code>.js</code> æ–‡ä»¶ä¸­å¼•å…¥å³å¯ç”Ÿæ•ˆã€‚</p><p>ä¾‹å¦‚ï¼Œåœ¨ <code>src/pages/index.css</code> æ–‡ä»¶æŒ‰ç…§ä»¥ä¸‹ä»£ç å£°æ˜ <code>.title</code> ç±»çš„æ ·å¼ä¸ºçº¢è‰²ï¼š</p><div class="language-css line-numbers-mode" data-ext="css"><pre class="language-css"><code><span class="token selector">.title</span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç„¶ååœ¨ <code>src/pages/index.js</code> æ–‡ä»¶ä¸­å¼•å…¥å³å¯ç”Ÿæ•ˆã€‚</p><div class="language-jsx line-numbers-mode" data-ext="jsx"><pre class="language-jsx"><code><span class="token comment">// src/pages/index.js</span>
 
<span class="token keyword">import</span> <span class="token string">&#39;./index.css&#39;</span><span class="token punctuation">;</span>
 
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>title<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Hello World</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,13),b=s("code",null,".js",-1),g={href:"https://umijs.org/docs/guides/styling#%E4%BD%BF%E7%94%A8-css-modules",target:"_blank",rel:"noopener noreferrer"},h=e(`<h3 id="_3-2-ä½¿ç”¨-css-modules" tabindex="-1"><a class="header-anchor" href="#_3-2-ä½¿ç”¨-css-modules" aria-hidden="true">#</a> 3.2 ä½¿ç”¨ CSS Modules</h3><p>åœ¨ <code>js</code> æ–‡ä»¶ä¸­å¼•å…¥æ ·å¼æ—¶ï¼Œå¦‚æœèµ‹äºˆä»–ä¸€ä¸ªå˜é‡åï¼Œå°±å¯ä»¥å°†æ ·å¼ä»¥ CSS Module çš„å½¢å¼å¼•å…¥ã€‚</p><div class="language-jsx line-numbers-mode" data-ext="jsx"><pre class="language-jsx"><code><span class="token comment">// src/pages/index.js</span>
 
<span class="token keyword">import</span> styles <span class="token keyword">from</span> <span class="token string">&#39;./index.css&#39;</span><span class="token punctuation">;</span>
 
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">.</span>title<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    Hello World
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œ<code>index.css</code> æ–‡ä»¶ä¸­å£°æ˜çš„æ ·å¼ä¸ä¼šå¯¹å…¨å±€æ ·å¼é€ æˆå½±å“ï¼Œåªä¼šå¯¹ä» <code>styles</code> å˜é‡ä¸­ä½¿ç”¨çš„æ ·å¼ç”Ÿæ•ˆã€‚</p><h3 id="_3-3-ä½¿ç”¨-css-é¢„å¤„ç†å™¨" tabindex="-1"><a class="header-anchor" href="#_3-3-ä½¿ç”¨-css-é¢„å¤„ç†å™¨" aria-hidden="true">#</a> 3.3 ä½¿ç”¨ CSS é¢„å¤„ç†å™¨</h3><p>Umi é»˜è®¤æ”¯æŒ LESS (æ¨è), SASS å’Œ SCSS æ ·å¼çš„å¯¼å…¥ï¼Œä½ å¯ä»¥ç›´æ¥æŒ‰ç…§å¼•å…¥ CSS æ–‡ä»¶çš„æ–¹å¼å¼•å…¥å¹¶ä½¿ç”¨è¿™äº›ç”± CSS é¢„å¤„ç†å™¨å¤„ç†çš„æ ·å¼ã€‚</p><blockquote><p>ğŸ’¡</p><p>åœ¨ Umi ä¸­ä½¿ç”¨ Sass(Scss) éœ€è¦é¢å¤–å®‰è£…é¢„å¤„ç†ä¾èµ– å¦‚: <code>npm add -D sass</code></p></blockquote><div class="language-jsx line-numbers-mode" data-ext="jsx"><pre class="language-jsx"><code><span class="token comment">// src/pages/index.js</span>
 
<span class="token keyword">import</span> <span class="token string">&#39;./index.less&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">&#39;./index.sass&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">&#39;./index.scss&#39;</span><span class="token punctuation">;</span>
 
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>title<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Hello World</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åŒæ ·ä¹Ÿæ”¯æŒ CSS Module çš„ç”¨æ³•ï¼š</p><div class="language-jsx line-numbers-mode" data-ext="jsx"><pre class="language-jsx"><code><span class="token comment">// src/pages/index.js</span>
 
<span class="token keyword">import</span> lessStyles <span class="token keyword">from</span> <span class="token string">&#39;./index.less&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> sassStyles <span class="token keyword">from</span> <span class="token string">&#39;./index.sass&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> scssStyles <span class="token keyword">from</span> <span class="token string">&#39;./index.scss&#39;</span><span class="token punctuation">;</span>
 
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>lessStyles<span class="token punctuation">.</span>title<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    Hello World
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>sassStyles<span class="token punctuation">.</span>blue<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">I am blue</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>scssStyles<span class="token punctuation">.</span>red<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">I am red</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-4-ä½¿ç”¨-tailwindcss" tabindex="-1"><a class="header-anchor" href="#_3-4-ä½¿ç”¨-tailwindcss" aria-hidden="true">#</a> 3.4 ä½¿ç”¨ Tailwindcss</h3>`,11),y={href:"https://tailwindcss.com/",target:"_blank",rel:"noopener noreferrer"},f=s("code",null,"umi",-1),x=e(`<div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token variable">$umi</span> g tailwindcss
info  - Write package.json
<span class="token builtin class-name">set</span> config:tailwindcss on /Users/umi/playground/.umirc.ts
<span class="token builtin class-name">set</span> config:plugins on /Users/umi/playground/.umirc.ts
info  - Update .umirc.ts
info  - Write tailwind.config.js
info  - Write tailwind.css
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç”Ÿæˆçš„<code>tailwind.css</code>æ–‡ä»¶ä¼šæœ‰è­¦å‘Šï¼Œå¯ä»¥é€šè¿‡<code>vscode</code>çš„é…ç½®æ¥è§£å†³</p><p><code>settings.json</code></p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;css.lint.unknownAtRules&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ignore&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-5-ä½¿ç”¨-unocss" tabindex="-1"><a class="header-anchor" href="#_3-5-ä½¿ç”¨-unocss" aria-hidden="true">#</a> 3.5 ä½¿ç”¨ UnoCSS</h3>`,5),_={href:"https://github.com/unocss/unocss",target:"_blank",rel:"noopener noreferrer"},w=e(`<ol><li>å®‰è£… <code>plugin-unocss</code></li><li>å®‰è£… <code>unocss</code> åŠ <code>@unocss/cli</code></li></ol><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">pnpm</span> i unocss @unocss/cli
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="3"><li>åœ¨ Umi è®¾ç½®ä¸­å¯ç”¨æ’ä»¶ï¼Œå¹¶å£°æ˜ä¼šç”¨åˆ° <code>unocss</code> çš„æ–‡ä»¶ç›®å½•</li></ol><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token comment">// .umirc.ts</span>
 
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">require</span><span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;@umijs/plugins/dist/unocss&#39;</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  unocss<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// æ£€æµ‹ className çš„æ–‡ä»¶èŒƒå›´ï¼Œè‹¥é¡¹ç›®ä¸åŒ…å« src ç›®å½•ï¼Œå¯ä½¿ç”¨ \`pages/**/*.tsx\`</span>
    watch<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;src/**/*.tsx&#39;</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,4),q={start:"4"},j=s("code",null,"unocss.config.ts",-1),S={href:"https://github.com/unocss/unocss#presets",target:"_blank",rel:"noopener noreferrer"},C=e(`<div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token comment">// unocss.config.ts</span>
 
<span class="token keyword">import</span> <span class="token punctuation">{</span>defineConfig<span class="token punctuation">,</span> presetAttributify<span class="token punctuation">,</span> presetUno<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;unocss&#39;</span><span class="token punctuation">;</span>
 
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">createConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>strict <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span> dev <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    envMode<span class="token operator">:</span> dev <span class="token operator">?</span> <span class="token string">&#39;dev&#39;</span> <span class="token operator">:</span> <span class="token string">&#39;build&#39;</span><span class="token punctuation">,</span> presets<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">presetAttributify</span><span class="token punctuation">(</span><span class="token punctuation">{</span>strict<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">presetUno</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
 
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">createConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="5"><li>å¯åŠ¨é¡¹ç›®è¿›è¡Œå¼€å‘ï¼Œæ’ä»¶ä¼šç›‘å¬è®¾ç½®æ–‡ä»¶ä¸­çš„ <code>unocss.watch</code> å­—æ®µï¼ŒåŠ¨æ€ç”Ÿæˆæ ·å¼æ–‡ä»¶å¹¶è‡ªåŠ¨å¥—ç”¨</li></ol><h2 id="_4-ä½¿ç”¨å›¾ç‰‡" tabindex="-1"><a class="header-anchor" href="#_4-ä½¿ç”¨å›¾ç‰‡" aria-hidden="true">#</a> 4.ä½¿ç”¨å›¾ç‰‡</h2><h3 id="_4-1-js-é‡Œä½¿ç”¨å›¾ç‰‡" tabindex="-1"><a class="header-anchor" href="#_4-1-js-é‡Œä½¿ç”¨å›¾ç‰‡" aria-hidden="true">#</a> 4.1 JS é‡Œä½¿ç”¨å›¾ç‰‡</h3><p>é€šè¿‡ require å¼•ç”¨ç›¸å¯¹è·¯å¾„çš„å›¾ç‰‡ã€‚</p><p>æ¯”å¦‚ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token punctuation">{</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./foo.png&#39;</span><span class="token punctuation">)</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æ”¯æŒåˆ«åï¼Œæ¯”å¦‚é€šè¿‡ <code>@</code> æŒ‡å‘ src ç›®å½•ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token punctuation">{</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;@/foo.png&#39;</span><span class="token punctuation">)</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_4-2-js-é‡Œä½¿ç”¨svg" tabindex="-1"><a class="header-anchor" href="#_4-2-js-é‡Œä½¿ç”¨svg" aria-hidden="true">#</a> 4.2 JS é‡Œä½¿ç”¨svg</h3><p><strong>ç»„ä»¶å¼å¼•å…¥</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> ReactComponent <span class="token keyword">as</span> Logo <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./logo.svg&#39;</span>
<span class="token keyword">function</span> <span class="token function">Analysis</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> <span class="token operator">&lt;</span>Logo width<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">90</span><span class="token punctuation">}</span> height<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">120</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>urlå¼å¼•å…¥</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> logoSrc <span class="token keyword">from</span> <span class="token string">&#39;./logo.svg&#39;</span>
<span class="token keyword">function</span> <span class="token function">Analysis</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> <span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token punctuation">{</span>logoSrc<span class="token punctuation">}</span> alt<span class="token operator">=</span><span class="token string">&quot;logo&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-3-css-é‡Œä½¿ç”¨å›¾ç‰‡" tabindex="-1"><a class="header-anchor" href="#_4-3-css-é‡Œä½¿ç”¨å›¾ç‰‡" aria-hidden="true">#</a> 4.3 CSS é‡Œä½¿ç”¨å›¾ç‰‡</h3><p>é€šè¿‡ç›¸å¯¹è·¯å¾„å¼•ç”¨ã€‚</p><p>æ¯”å¦‚ï¼Œ</p><div class="language-css line-numbers-mode" data-ext="css"><pre class="language-css"><code><span class="token selector">.logo</span> <span class="token punctuation">{</span>
  <span class="token property">background</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>./foo.png<span class="token punctuation">)</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>CSS é‡Œä¹Ÿæ”¯æŒåˆ«åï¼Œä½†éœ€è¦åœ¨å‰é¢åŠ  <code>~</code> å‰ç¼€ï¼Œ</p><div class="language-css line-numbers-mode" data-ext="css"><pre class="language-css"><code><span class="token selector">.logo</span> <span class="token punctuation">{</span>
  <span class="token property">background</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>~@/foo.png<span class="token punctuation">)</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ³¨æ„ï¼š</p><ol><li>è¿™æ˜¯ webpack çš„è§„åˆ™ï¼Œå¦‚æœåˆ‡åˆ°å…¶ä»–æ‰“åŒ…å·¥å…·ï¼Œå¯èƒ½ä¼šæœ‰å˜åŒ–</li><li>less ä¸­åŒæ ·é€‚ç”¨</li></ol><h3 id="_4-4-å›¾ç‰‡è·¯å¾„é—®é¢˜" tabindex="-1"><a class="header-anchor" href="#_4-4-å›¾ç‰‡è·¯å¾„é—®é¢˜" aria-hidden="true">#</a> 4.4 å›¾ç‰‡è·¯å¾„é—®é¢˜</h3><p>é¡¹ç›®ä¸­ä½¿ç”¨å›¾ç‰‡æœ‰ä¸¤ç§æ–¹å¼ï¼Œ</p><ol><li>å…ˆæŠŠå›¾ç‰‡ä¼ åˆ° cdnï¼Œç„¶ååœ¨ JS å’Œ CSS ä¸­ä½¿ç”¨å›¾ç‰‡çš„ç»å¯¹è·¯å¾„</li><li>æŠŠå›¾ç‰‡æ”¾åœ¨é¡¹ç›®é‡Œï¼Œç„¶ååœ¨ JS å’Œ CSS ä¸­é€šè¿‡ç›¸å¯¹è·¯å¾„çš„æ–¹å¼ä½¿ç”¨</li></ol><h3 id="_4-5-base64-ç¼–è¯‘" tabindex="-1"><a class="header-anchor" href="#_4-5-base64-ç¼–è¯‘" aria-hidden="true">#</a> 4.5 Base64 ç¼–è¯‘</h3><p>é€šè¿‡ç›¸å¯¹è·¯å¾„å¼•å…¥å›¾ç‰‡çš„æ—¶å€™ï¼Œå¦‚æœå›¾ç‰‡å°äº 10Kï¼Œä¼šè¢«ç¼–è¯‘ä¸º Base64ï¼Œå¦åˆ™ä¼šè¢«æ„å»ºä¸ºç‹¬ç«‹çš„å›¾ç‰‡æ–‡ä»¶ã€‚</p>`,27),M={href:"https://v3.umijs.org/zh-CN/config#inlinelimit",target:"_blank",rel:"noopener noreferrer"},U=e(`<h2 id="_5-ç¼–ç è§„èŒƒ" tabindex="-1"><a class="header-anchor" href="#_5-ç¼–ç è§„èŒƒ" aria-hidden="true">#</a> 5.ç¼–ç è§„èŒƒ</h2><p>æˆ‘ä»¬é€šå¸¸ä¼šåœ¨é¡¹ç›®ä¸­ä½¿ç”¨ ESLintã€Stylelint æ¥ååŠ©æˆ‘ä»¬æŠŠæ§ç¼–ç è´¨é‡ï¼Œä¸ºäº†å®ç°ä½æˆæœ¬ã€é«˜æ€§èƒ½ã€æ›´ç¨³å®šåœ°æ¥å…¥ä¸Šè¿°å·¥å…·ï¼ŒUmi æä¾›äº†å¼€ç®±å³ç”¨çš„ Lint èƒ½åŠ›ï¼ŒåŒ…å«ä»¥ä¸‹ç‰¹æ€§ï¼š</p><ol><li><strong>æ¨èé…ç½®</strong>ï¼šæä¾› ESLint åŠ Stylelint æ¨èé…ç½®ï¼Œå¯ä»¥ç›´æ¥ç»§æ‰¿ä½¿ç”¨</li><li><strong>ç»Ÿä¸€çš„ CLI</strong>ï¼šæä¾› <code>umi lint</code> CLIï¼Œé›†æˆå¼è°ƒç”¨ ESLint å’Œ Stylelint</li><li><strong>è§„åˆ™ç¨³å®š</strong>ï¼šå§‹ç»ˆç¡®ä¿è§„åˆ™çš„ç¨³å®šæ€§ï¼Œä¸ä¼šå‡ºç°ä¸Šæ¸¸é…ç½®æ›´æ–°å¯¼è‡´å­˜é‡é¡¹ç›® lint å¤±è´¥çš„æƒ…å†µ</li></ol><p>å…¶ä¸­ï¼ŒESLint é…ç½®å…·å¤‡å¦‚ä¸‹ç‰¹ç‚¹ï¼š</p><ol><li><strong>ä»…è´¨é‡ç›¸å…³</strong>ï¼šæˆ‘ä»¬ä»æ•°ç™¾æ¡è§„åˆ™ä¸­ç­›é€‰å‡ºæ•°åæ¡ä¸ç¼–ç è´¨é‡ç›¸å…³çš„è§„åˆ™è¿›è¡Œç™½åå•å¼€å¯ï¼Œå›å½’ Lint æœ¬è´¨ï¼Œä¸”ä¸ä¼šä¸ Prettier çš„è§„åˆ™å†²çª</li><li><strong>æ€§èƒ½ä¼˜å…ˆ</strong>ï¼šéƒ¨åˆ† TypeScript çš„è§„åˆ™å®ç”¨å‹ä½ä½†é¡¹ç›®å…¨é‡ç¼–è¯‘çš„æˆæœ¬å´å¾ˆé«˜ï¼Œæˆ‘ä»¬å¯¹è¿™äº›è§„åˆ™è¿›è¡Œç¦ç”¨ä»¥æå‡æ€§èƒ½</li><li><strong>å†…ç½®å¸¸ç”¨æ’ä»¶</strong>ï¼šåŒ…å« reactã€react-hooksã€@typescript/eslintã€jestï¼Œæ»¡è¶³æ—¥å¸¸æ‰€éœ€</li></ol><p>å¦å¤–ï¼ŒStylelint é…ç½®è¿˜å†…ç½® CSS-in-JS æ”¯æŒï¼Œå¯ä»¥æ£€æµ‹å‡º JS æ–‡ä»¶ä¸­çš„æ ·å¼è¡¨è¯­æ³•é”™è¯¯ã€‚å¬èµ·æ¥å¾ˆæœ‰å¸å¼•åŠ›ï¼Ÿæ¥çœ‹çœ‹å¦‚ä½•æ¥å…¥å§ã€‚</p><h3 id="_5-1-ä½¿ç”¨æ–¹å¼" tabindex="-1"><a class="header-anchor" href="#_5-1-ä½¿ç”¨æ–¹å¼" aria-hidden="true">#</a> 5.1 ä½¿ç”¨æ–¹å¼</h3><h4 id="_5-1-1-å®‰è£…" tabindex="-1"><a class="header-anchor" href="#_5-1-1-å®‰è£…" aria-hidden="true">#</a> 5.1.1 å®‰è£…</h4><p>ä¸ºäº†èŠ‚çœå®‰è£…ä½“ç§¯ï¼Œç›®å‰ä»…åœ¨ Umi Max ä¸­å†…ç½®äº† Lint æ¨¡å—ï¼Œä½¿ç”¨ <code>max lint</code> æ¥æ‰§è¡Œ lint è¿‡ç¨‹ã€‚<strong>å¦‚æœä½ ä½¿ç”¨çš„æ˜¯ Umiï¼Œéœ€è¦å…ˆå®‰è£… <code>@umijs/lint</code></strong>ï¼š</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>$ <span class="token function">npm</span> i @umijs/lint <span class="token parameter variable">-D</span>
<span class="token comment"># or</span>
$ <span class="token function">pnpm</span> <span class="token function">add</span> @umijs/lint <span class="token parameter variable">-D</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç„¶åå®‰è£… ESLint åŠ Stylelintï¼š</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>$ <span class="token function">npm</span> i eslint stylelint <span class="token parameter variable">-D</span>
<span class="token comment"># or</span>
$ <span class="token function">pnpm</span> <span class="token function">add</span> eslint stylelint <span class="token parameter variable">-D</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_5-1-2-å¯ç”¨é…ç½®" tabindex="-1"><a class="header-anchor" href="#_5-1-2-å¯ç”¨é…ç½®" aria-hidden="true">#</a> 5.1.2 å¯ç”¨é…ç½®</h4><p>åœ¨ <code>.eslintrc.js</code> åŠ <code>.stylelintrc.js</code> é‡Œç»§æ‰¿ Umi æä¾›çš„é…ç½®ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// .eslintrc.js</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// Umi é¡¹ç›®</span>
  <span class="token keyword">extends</span><span class="token operator">:</span> require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;umi/eslint&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
 
  <span class="token comment">// Umi Max é¡¹ç›®</span>
  <span class="token keyword">extends</span><span class="token operator">:</span> require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;@umijs/max/eslint&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  
   <span class="token literal-property property">settings</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// è§£å†³è­¦å‘Šï¼šWarning: React version was set to &quot;detect&quot; in eslint-plugin-react settings, but the &quot;react&quot; package is not installed. Assuming latest React version for linting.</span>
    <span class="token literal-property property">react</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">version</span><span class="token operator">:</span> <span class="token string">&#39;999.999.999&#39;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
 
<span class="token comment">// .stylelintrc.js</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// Umi é¡¹ç›®</span>
  <span class="token comment">// pnpm add stylelint-config-recess-order -D </span>
  <span class="token keyword">extends</span><span class="token operator">:</span> <span class="token punctuation">[</span>require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;umi/stylelint&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&#39;stylelint-config-recess-order&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
 
  <span class="token comment">// Umi Max é¡¹ç›®</span>
  <span class="token keyword">extends</span><span class="token operator">:</span> <span class="token punctuation">[</span>require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;@umijs/max/stylelint&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&#39;stylelint-config-recess-order&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç¼–å†™æ£€æŸ¥å¿½ç•¥æ–‡ä»¶ <code>.eslintignore</code> åŠ <code>.stylelintignore</code> é‡Œç»§æ‰¿ Umi æä¾›çš„é…ç½®ï¼š</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># .eslintrc.js</span>
/config
/dist
public
dist
.umi
mock
node_modules
 
<span class="token comment"># .stylelintrc.js</span>
node_modules
.umi
.umi-production
tailwind.*
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨é…ç½®æ–‡ä»¶åˆ›å»ºå®Œæ¯•åï¼Œæˆ‘ä»¬å…¶å®å·²ç»å¯ä»¥é€šè¿‡ <code>eslint</code>ã€<code>stylelint</code> å‘½ä»¤æ¥æ‰§è¡Œ lint äº†ï¼Œä½†æˆ‘ä»¬ä»ç„¶æ¨èä½¿ç”¨ <code>umi lint</code> å‘½ä»¤ï¼Œä»¥è·å¾—æ›´ä¾¿æ·çš„ä½“éªŒã€‚</p><h4 id="_5-1-3-cli" tabindex="-1"><a class="header-anchor" href="#_5-1-3-cli" aria-hidden="true">#</a> 5.1.3 CLI</h4><p><code>umi lint</code> å‘½ä»¤çš„ç”¨æ³•å¦‚ä¸‹ï¼š</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>$ umi lint <span class="token punctuation">[</span>glob<span class="token punctuation">]</span> <span class="token punctuation">[</span>--fix<span class="token punctuation">]</span> <span class="token punctuation">[</span>--eslint-only<span class="token punctuation">]</span> <span class="token punctuation">[</span>--stylelint-only<span class="token punctuation">]</span> <span class="token punctuation">[</span>--cssinjs<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å‚æ•°è¯´æ˜ï¼š</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code> <span class="token punctuation">[</span>glob<span class="token punctuation">]</span>: å¯é€‰ï¼ŒæŒ‡å®šè¦ lint çš„æ–‡ä»¶ï¼Œé»˜è®¤ä¸º <span class="token variable"><span class="token variable">\`</span><span class="token punctuation">{</span>src,test<span class="token punctuation">}</span>/**/*.<span class="token punctuation">{</span>js,jsx,ts,tsx,css,less<span class="token punctuation">}</span><span class="token variable">\`</span></span>
  --quiet: å¯é€‰ï¼Œç¦ç”¨ <span class="token variable"><span class="token variable">\`</span>warn<span class="token variable">\`</span></span> è§„åˆ™çš„æŠ¥å‘Šï¼Œä»…è¾“å‡º <span class="token variable"><span class="token variable">\`</span>error<span class="token variable">\`</span></span>
  --fix: å¯é€‰ï¼Œè‡ªåŠ¨ä¿®å¤ lint é”™è¯¯
  --eslint-only: å¯é€‰ï¼Œä»…æ‰§è¡Œ ESLint
  --stylelint-only: å¯é€‰ï¼Œä»…æ‰§è¡Œ Stylelint
  --cssinjs: å¯é€‰ï¼Œä¸º Stylelint å¯ç”¨ CSS-in-JS æ”¯æŒ
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é€šå¸¸æ¥è¯´ï¼Œç›´æ¥æ‰§è¡Œ <code>umi lint</code> åº”è¯¥å°±èƒ½æ»¡è¶³å¤§éƒ¨åˆ†æƒ…å†µã€‚</p><h3 id="_5-2-ä¸-git-å·¥ä½œæµç»“åˆ" tabindex="-1"><a class="header-anchor" href="#_5-2-ä¸-git-å·¥ä½œæµç»“åˆ" aria-hidden="true">#</a> 5.2 ä¸ Git å·¥ä½œæµç»“åˆ</h3><h3 id="_5-3-prettier" tabindex="-1"><a class="header-anchor" href="#_5-3-prettier" aria-hidden="true">#</a> 5.3 Prettier</h3>`,26),T=s("code",null,"umi lint",-1),L={href:"https://prettier.io/docs/en/install.html",target:"_blank",rel:"noopener noreferrer"},E={href:"https://prettier.io/",target:"_blank",rel:"noopener noreferrer"},N=s("code",null,"umi",-1),A=e(`<div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token variable">$umi</span> g prettier
info  - Write package.json
info  - Write .prettierrc
info  - Write .prettierignore
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æˆ‘çš„<code>.prettierrc</code>é…ç½®</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;printWidth&quot;</span><span class="token operator">:</span> <span class="token number">120</span><span class="token punctuation">,</span>
  <span class="token property">&quot;tabWidth&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  <span class="token property">&quot;semi&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;singleQuote&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;trailingComma&quot;</span><span class="token operator">:</span> <span class="token string">&quot;all&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;proseWrap&quot;</span><span class="token operator">:</span> <span class="token string">&quot;never&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;arrowParens&quot;</span><span class="token operator">:</span> <span class="token string">&quot;avoid&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;htmlWhitespaceSensitivity&quot;</span><span class="token operator">:</span> <span class="token string">&quot;strict&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;endOfLine&quot;</span><span class="token operator">:</span> <span class="token string">&quot;auto&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;bracketSpacing&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;jsxSingleQuote&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;bracketSameLine&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;useTabs&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;overrides&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property">&quot;files&quot;</span><span class="token operator">:</span> <span class="token string">&quot;.prettierrc&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;options&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property">&quot;parser&quot;</span><span class="token operator">:</span> <span class="token string">&quot;json&quot;</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;plugins&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;prettier-plugin-organize-imports&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;prettier-plugin-packagejson&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯å‚è€ƒ Prettier æ–‡æ¡£å°†å…¶é…ç½®åˆ° lint-staged ä¸­ï¼šhttps://prettier.io/docs/en/install.html#git-hooks</p><h2 id="_6-è·¯ç”±" tabindex="-1"><a class="header-anchor" href="#_6-è·¯ç”±" aria-hidden="true">#</a> 6.è·¯ç”±</h2>`,5),P={href:"https://en.wikipedia.org/wiki/Single-page_application",target:"_blank",rel:"noopener noreferrer"},O=e(`<h3 id="_6-1-é…ç½®è·¯ç”±" tabindex="-1"><a class="header-anchor" href="#_6-1-é…ç½®è·¯ç”±" aria-hidden="true">#</a> 6.1 é…ç½®è·¯ç”±</h3><p>åœ¨é…ç½®æ–‡ä»¶ä¸­é€šè¿‡ <code>routes</code> è¿›è¡Œé…ç½®ï¼Œæ ¼å¼ä¸ºè·¯ç”±ä¿¡æ¯çš„æ•°ç»„ã€‚</p><p>æ¯”å¦‚ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">routes</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&#39;/&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">component</span><span class="token operator">:</span> <span class="token string">&#39;index&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&#39;/user&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">component</span><span class="token operator">:</span> <span class="token string">&#39;user&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Umi 4 é»˜è®¤æ ¹æ®è·¯ç”±æ¥è¿›è¡Œ JavaScript æ¨¡å—æŒ‰éœ€åŠ è½½ã€‚å¦‚æœéœ€è¦åœ¨è·¯ç”±ç»„ä»¶åŠ è½½çš„è¿‡ç¨‹ä¸­é…ç½®è‡ªå®šä¹‰åŠ è½½ç»„ä»¶ï¼Œåœ¨é¡¹ç›® <code>src</code> ç›®å½•ä¸‹åˆ›å»º <code>loading.tsx</code> æˆ–è€… <code>loading.jsx</code> æˆ–è€… <code>loading.js</code> æ–‡ä»¶ï¼Œé»˜è®¤å¯¼å‡ºçš„ç»„ä»¶ä¼šåœ¨ç»„ä»¶åŠ è½½çš„æ—¶å€™æ¸²æŸ“ã€‚</p><blockquote><p>ğŸ’¡</p><p>ä½ å¯ä»¥åœ¨ Chrome çš„è°ƒè¯•å·¥å…·çš„ç½‘ç»œ tab ä¸­å°†ç½‘ç»œè®¾ç½®æˆä½é€Ÿï¼Œç„¶ååˆ‡æ¢è·¯ç”±æŸ¥çœ‹åŠ¨æ€åŠ è½½ä¸­ç»„ä»¶çš„å±•ç¤ºã€‚</p></blockquote><h4 id="_6-1-1-path" tabindex="-1"><a class="header-anchor" href="#_6-1-1-path" aria-hidden="true">#</a> 6.1.1 path</h4><ul><li>Type: <code>string</code></li></ul><p><code>path</code> åªæ”¯æŒä¸¤ç§å ä½ç¬¦é…ç½®ï¼Œç¬¬ä¸€ç§æ˜¯åŠ¨æ€å‚æ•° <code>:id</code> çš„å½¢å¼ï¼Œç¬¬äºŒç§æ˜¯ <code>*</code> é€šé…ç¬¦ï¼Œé€šé…ç¬¦åªèƒ½å‡ºç°è·¯ç”±å­—ç¬¦ä¸²çš„æœ€åã€‚</p><p>âœ… ä»¥ä¸‹æ˜¯ç›®å‰<em><strong>æ”¯æŒ</strong></em>çš„è·¯ç”±è·¯å¾„é…ç½®å½¢å¼ï¼š</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>/groups
/groups/admin
/users/:id
/users/:id/messages
/files/*
/files/:id/*
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>âŒ ä»¥ä¸‹æ˜¯ç›®å‰<em><strong>ä¸æ”¯æŒ</strong></em>çš„è·¯ç”±è·¯å¾„é…ç½®å½¢å¼ï¼š</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>/users/:id?
/tweets/:id<span class="token punctuation">(</span><span class="token punctuation">\\</span>d+<span class="token punctuation">)</span>
/files/*/cat.jpg
/files-*
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_6-1-2-component" tabindex="-1"><a class="header-anchor" href="#_6-1-2-component" aria-hidden="true">#</a> 6.1.2 component</h4><ul><li>Type: <code>string</code></li></ul><p>é…ç½® location å’Œ path åŒ¹é…åç”¨äºæ¸²æŸ“çš„ React ç»„ä»¶è·¯å¾„ã€‚å¯ä»¥æ˜¯ç»å¯¹è·¯å¾„ï¼Œä¹Ÿå¯ä»¥æ˜¯ç›¸å¯¹è·¯å¾„ï¼Œå¦‚æœæ˜¯ç›¸å¯¹è·¯å¾„ï¼Œä¼šä» <code>src/pages</code> å¼€å§‹æ‰¾èµ·ã€‚</p><p>å¦‚æœæŒ‡å‘ <code>src</code> ç›®å½•çš„æ–‡ä»¶ï¼Œå¯ä»¥ç”¨ <code>@</code>ï¼Œä¹Ÿå¯ä»¥ç”¨ <code>../</code>ã€‚æ¯”å¦‚ <code>component: &#39;@/layouts/basic&#39;</code>ï¼Œæˆ–è€… <code>component: &#39;../layouts/basic&#39;</code>ï¼Œæ¨èç”¨å‰è€…ã€‚</p><h4 id="_6-1-3-routes" tabindex="-1"><a class="header-anchor" href="#_6-1-3-routes" aria-hidden="true">#</a> 6.1.3 routes</h4><p>é…ç½®å­è·¯ç”±ï¼Œé€šå¸¸åœ¨éœ€è¦ä¸ºå¤šä¸ªè·¯å¾„å¢åŠ  layout ç»„ä»¶æ—¶ä½¿ç”¨ã€‚</p><p>æ¯”å¦‚ï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  routes<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> path<span class="token operator">:</span> <span class="token string">&#39;/login&#39;</span><span class="token punctuation">,</span> component<span class="token operator">:</span> <span class="token string">&#39;login&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      path<span class="token operator">:</span> <span class="token string">&#39;/&#39;</span><span class="token punctuation">,</span>
      component<span class="token operator">:</span> <span class="token string">&#39;@/layouts/index&#39;</span><span class="token punctuation">,</span>
      routes<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span> path<span class="token operator">:</span> <span class="token string">&#39;/list&#39;</span><span class="token punctuation">,</span> component<span class="token operator">:</span> <span class="token string">&#39;list&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> path<span class="token operator">:</span> <span class="token string">&#39;/admin&#39;</span><span class="token punctuation">,</span> component<span class="token operator">:</span> <span class="token string">&#39;admin&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> 
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç„¶ååœ¨ <code>src/layouts/index</code> ä¸­é€šè¿‡ <code>&lt;Outlet/&gt;</code> æ¸²æŸ“å­è·¯ç”±ï¼Œ</p><div class="language-tsx line-numbers-mode" data-ext="tsx"><pre class="language-tsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>Outlet<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;umi&#39;</span>
 
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span>props<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token literal-property property">padding</span><span class="token operator">:</span> <span class="token number">20</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text"> 
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Outlet</span></span><span class="token punctuation">/&gt;</span></span><span class="token plain-text"> 
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™æ ·ï¼Œè®¿é—® <code>/list</code> å’Œ <code>/admin</code> å°±ä¼šå¸¦ä¸Š <code>src/layouts/index</code> è¿™ä¸ª layout ç»„ä»¶ã€‚</p><h4 id="_6-1-4-redirect" tabindex="-1"><a class="header-anchor" href="#_6-1-4-redirect" aria-hidden="true">#</a> 6.1.4 redirect</h4><ul><li>Type: <code>string</code></li></ul><p>é…ç½®è·¯ç”±è·³è½¬ã€‚</p><p>æ¯”å¦‚ï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  routes<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> path<span class="token operator">:</span> <span class="token string">&#39;/&#39;</span><span class="token punctuation">,</span> redirect<span class="token operator">:</span> <span class="token string">&#39;/list&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> path<span class="token operator">:</span> <span class="token string">&#39;/list&#39;</span><span class="token punctuation">,</span> component<span class="token operator">:</span> <span class="token string">&#39;list&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è®¿é—® <code>/</code> ä¼šè·³è½¬åˆ° <code>/list</code>ï¼Œå¹¶ç”± <code>src/pages/list</code> æ–‡ä»¶è¿›è¡Œæ¸²æŸ“ã€‚</p><h4 id="_6-1-5-wrappers" tabindex="-1"><a class="header-anchor" href="#_6-1-5-wrappers" aria-hidden="true">#</a> 6.1.5 wrappers</h4><ul><li>Type: <code>string[]</code></li></ul><p>é…ç½®è·¯ç”±ç»„ä»¶çš„åŒ…è£…ç»„ä»¶ï¼Œé€šè¿‡åŒ…è£…ç»„ä»¶å¯ä»¥ä¸ºå½“å‰çš„è·¯ç”±ç»„ä»¶ç»„åˆè¿›æ›´å¤šçš„åŠŸèƒ½ã€‚ æ¯”å¦‚ï¼Œå¯ä»¥ç”¨äºè·¯ç”±çº§åˆ«çš„æƒé™æ ¡éªŒï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  routes<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> path<span class="token operator">:</span> <span class="token string">&#39;/user&#39;</span><span class="token punctuation">,</span> component<span class="token operator">:</span> <span class="token string">&#39;user&#39;</span><span class="token punctuation">,</span>
      wrappers<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">&#39;@/wrappers/auth&#39;</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> path<span class="token operator">:</span> <span class="token string">&#39;/login&#39;</span><span class="token punctuation">,</span> component<span class="token operator">:</span> <span class="token string">&#39;login&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç„¶ååœ¨ <code>src/wrappers/auth</code> ä¸­ï¼Œ</p><div class="language-tsx line-numbers-mode" data-ext="tsx"><pre class="language-tsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Navigate<span class="token punctuation">,</span> Outlet <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;umi&#39;</span>
 
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span>props<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> isLogin <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useAuth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>isLogin<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Outlet</span></span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Navigate</span></span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/login<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™æ ·ï¼Œè®¿é—® <code>/user</code>ï¼Œå°±é€šè¿‡ <code>auth</code> ç»„ä»¶åšæƒé™æ ¡éªŒï¼Œå¦‚æœé€šè¿‡ï¼Œæ¸²æŸ“ <code>src/pages/user</code>ï¼Œå¦åˆ™è·³è½¬åˆ° <code>/login</code>ã€‚</p><blockquote><p>ğŸš¨</p><p><code>wrappers</code> ä¸­çš„æ¯ä¸ªç»„ä»¶ä¼šç»™å½“å‰çš„è·¯ç”±ç»„ä»¶å¢åŠ ä¸€å±‚åµŒå¥—è·¯ç”±ï¼Œå¦‚æœä½ å¸Œæœ›è·¯ç”±ç»“æ„ä¸å‘ç”Ÿå˜åŒ–ï¼Œæ¨èä½¿ç”¨é«˜é˜¶ç»„ä»¶ã€‚å…ˆåœ¨é«˜é˜¶ç»„ä»¶ä¸­å®ç° wrapper ä¸­çš„é€»è¾‘ï¼Œç„¶åä½¿ç”¨è¯¥é«˜é˜¶ç»„ä»¶è£…é¥°å¯¹åº”çš„è·¯ç”±ç»„ä»¶ã€‚</p></blockquote><p>ä¸¾ä¾‹ï¼š</p><div class="language-tsx line-numbers-mode" data-ext="tsx"><pre class="language-tsx"><code><span class="token comment">// src/hocs/withAuth.jsx</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Navigate <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;umi&#39;</span>
 
<span class="token keyword">const</span> <span class="token function-variable function">withAuth</span> <span class="token operator">=</span> <span class="token punctuation">(</span>Component<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> isLogin <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useAuth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>isLogin<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Component</span></span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Navigate</span></span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/login<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-tsx line-numbers-mode" data-ext="tsx"><pre class="language-tsx"><code><span class="token comment">// src/pages/user.jsx</span>
 
<span class="token keyword">const</span> <span class="token function-variable function">TheOldPage</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
  <span class="token operator">...</span>
<span class="token punctuation">}</span>
 
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">withAuth</span><span class="token punctuation">(</span>TheOldPage<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_6-1-6-title" tabindex="-1"><a class="header-anchor" href="#_6-1-6-title" aria-hidden="true">#</a> 6.1.6 title</h4><ul><li>Type: <code>string</code></li></ul><p>é…ç½®è·¯ç”±çš„æ ‡é¢˜ã€‚</p><h3 id="_6-2-é¡µé¢è·³è½¬" tabindex="-1"><a class="header-anchor" href="#_6-2-é¡µé¢è·³è½¬" aria-hidden="true">#</a> 6.2 é¡µé¢è·³è½¬</h3>`,45),B={href:"https://umijs.org/docs/api/api#history",target:"_blank",rel:"noopener noreferrer"},I=s("code",null,"history",-1),W=e(`<p>å’Œ history ç›¸å…³çš„æ“ä½œï¼Œç”¨äºè·å–å½“å‰è·¯ç”±ä¿¡æ¯ã€æ‰§è¡Œè·¯ç”±è·³è½¬ã€ç›‘å¬è·¯ç”±å˜æ›´ã€‚</p><div class="language-tsx line-numbers-mode" data-ext="tsx"><pre class="language-tsx"><code><span class="token comment">// å»ºè®®ç»„ä»¶æˆ– hooks é‡Œç”¨ useLocation å–</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useLocation <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;umi&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">Page</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> location <span class="token operator">=</span> <span class="token function">useLocation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
     </span><span class="token punctuation">{</span> location<span class="token punctuation">.</span>pathname <span class="token punctuation">}</span><span class="token plain-text">
     </span><span class="token punctuation">{</span> location<span class="token punctuation">.</span>search <span class="token punctuation">}</span><span class="token plain-text">
     </span><span class="token punctuation">{</span> location<span class="token punctuation">.</span>hash <span class="token punctuation">}</span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœåœ¨ React ç»„ä»¶å’Œ Hooks ä¹‹å¤–è·å–å½“å‰è·¯ç”±ä¿¡æ¯ã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// location å¯¹è±¡ï¼ŒåŒ…å« pathnameã€search å’Œ hash</span>
window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>pathname<span class="token punctuation">;</span>
window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>search<span class="token punctuation">;</span>
window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>hash<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å‘½ä»¤å¼è·¯ç”±è·³è½¬ã€‚</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> history <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;umi&#39;</span><span class="token punctuation">;</span>
 
<span class="token comment">// è·³è½¬åˆ°æŒ‡å®šè·¯ç”±</span>
history<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">&#39;/list&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
<span class="token comment">// å¸¦å‚æ•°è·³è½¬åˆ°æŒ‡å®šè·¯ç”±</span>
history<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">&#39;/list?a=b&amp;c=d#anchor&#39;</span><span class="token punctuation">,</span> state<span class="token punctuation">)</span><span class="token punctuation">;</span>
history<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    pathname<span class="token operator">:</span> <span class="token string">&#39;/list&#39;</span><span class="token punctuation">,</span>
    search<span class="token operator">:</span> <span class="token string">&#39;?a=b&amp;c=d&#39;</span><span class="token punctuation">,</span>
    hash<span class="token operator">:</span> <span class="token string">&#39;anchor&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    some<span class="token operator">:</span> <span class="token string">&#39;state-data&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
 
<span class="token comment">// è·³è½¬å½“å‰è·¯å¾„ï¼Œå¹¶åˆ·æ–° state</span>
history<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> state<span class="token punctuation">)</span>
 
<span class="token comment">// è·³è½¬åˆ°ä¸Šä¸€ä¸ªè·¯ç”±</span>
history<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
history<span class="token punctuation">.</span><span class="token function">go</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>ğŸš¨</p><p>æ³¨æ„ï¼šhistory.push å’Œ history.replace éœ€è¦ä½¿ç”¨ <code>state</code> éœ€å°† <code>state</code> ä½œä¸ºè¿™ä¸¤ä¸ª API çš„ç¬¬äºŒä¸ªå‚æ•°ä¼ é€’</p></blockquote><p>è·¯ç”±ç›‘å¬ã€‚</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> history <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;umi&#39;</span><span class="token punctuation">;</span>
 
<span class="token keyword">const</span> unlisten <span class="token operator">=</span> history<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">{</span> location<span class="token punctuation">,</span> action <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>location<span class="token punctuation">.</span>pathname<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">unlisten</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,9),H={href:"https://umijs.org/docs/api/api#usenavigate",target:"_blank",rel:"noopener noreferrer"},J=s("code",null,"useNavigate",-1),D=e(`<p><code>useNavigate</code> é’©å­å‡½æ•°è¿”å›ä¸€ä¸ªå¯ä»¥æ§åˆ¶è·³è½¬çš„å‡½æ•°ï¼›æ¯”å¦‚å¯ä»¥ç”¨åœ¨æäº¤å®Œè¡¨å•åè·³è½¬åˆ°å…¶ä»–é¡µé¢ã€‚</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">declare</span> <span class="token keyword">function</span> <span class="token function">useNavigate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> NavigateFunction<span class="token punctuation">;</span>
 
<span class="token keyword">interface</span> <span class="token class-name">NavigateFunction</span> <span class="token punctuation">{</span>
  <span class="token punctuation">(</span>
    to<span class="token operator">:</span> To<span class="token punctuation">,</span>
    options<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">{</span> replace<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span> state<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">any</span> <span class="token punctuation">}</span>
  <span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
  <span class="token punctuation">(</span>delta<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_6-3-é”™è¯¯é¡µé…ç½®" tabindex="-1"><a class="header-anchor" href="#_6-3-é”™è¯¯é¡µé…ç½®" aria-hidden="true">#</a> 6.3 é”™è¯¯é¡µé…ç½®</h3><p><code>src/404.tsx</code></p><div class="language-tsx line-numbers-mode" data-ext="tsx"><pre class="language-tsx"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">Error</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">404</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>.umirc.ts</code></p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code>routes<span class="token operator">:</span> <span class="token punctuation">[</span>
	<span class="token operator">...</span>
  <span class="token punctuation">{</span>
    path<span class="token operator">:</span> <span class="token string">&#39;*&#39;</span><span class="token punctuation">,</span>
    component<span class="token operator">:</span> <span class="token string">&#39;@/404.tsx&#39;</span><span class="token punctuation">,</span>
    title<span class="token operator">:</span> <span class="token string">&#39;é”™è¯¯-404&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç¤ºä¾‹ï¼š</p><ul><li>è·³è½¬è·¯å¾„</li></ul><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useNavigate <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;umi&#39;</span><span class="token punctuation">;</span>
 
<span class="token keyword">let</span> navigate <span class="token operator">=</span> <span class="token function">useNavigate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">navigate</span><span class="token punctuation">(</span><span class="token string">&quot;../success&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> replace<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>è¿”å›ä¸Šä¸€é¡µ</li></ul><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useNavigate <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;umi&#39;</span><span class="token punctuation">;</span>
 
<span class="token keyword">let</span> navigate <span class="token operator">=</span> <span class="token function">useNavigate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">navigate</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_6-4-è·¯ç”±ç»„ä»¶å‚æ•°" tabindex="-1"><a class="header-anchor" href="#_6-4-è·¯ç”±ç»„ä»¶å‚æ•°" aria-hidden="true">#</a> 6.4 è·¯ç”±ç»„ä»¶å‚æ•°</h3>`,13),$={href:"https://reactrouter.com/docs/en/v6/api",target:"_blank",rel:"noopener noreferrer"},G=s("h2",{id:"_7-mock",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#_7-mock","aria-hidden":"true"},"#"),n(" 7.Mock")],-1),R=s("p",null,"Umi æä¾›äº†å¼€ç®±å³ç”¨çš„ Mock åŠŸèƒ½ï¼Œèƒ½å¤Ÿç”¨æ–¹ä¾¿ç®€å•çš„æ–¹å¼æ¥å®Œæˆ Mock æ•°æ®çš„è®¾ç½®ã€‚",-1),V=s("blockquote",null,[s("p",null,"ğŸ’¡"),s("p",null,"ä»€ä¹ˆæ˜¯ Mock æ•°æ®ï¼šåœ¨å‰åç«¯çº¦å®šå¥½ API æ¥å£ä»¥åï¼Œå‰ç«¯å¯ä»¥ä½¿ç”¨ Mock æ•°æ®æ¥åœ¨æœ¬åœ°æ¨¡æ‹Ÿå‡º API åº”è¯¥è¦è¿”å›çš„æ•°æ®ï¼Œè¿™æ ·ä¸€æ¥å‰åç«¯å¼€å‘å°±å¯ä»¥åŒæ—¶è¿›è¡Œï¼Œä¸ä¼šå› ä¸ºåç«¯ API è¿˜åœ¨å¼€å‘è€Œå¯¼è‡´å‰ç«¯çš„å·¥ä½œè¢«é˜»å¡ã€‚")],-1),K=s("h3",{id:"_7-1-ç›®å½•çº¦å®š",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#_7-1-ç›®å½•çº¦å®š","aria-hidden":"true"},"#"),n(" 7.1 ç›®å½•çº¦å®š")],-1),z=s("code",null,"/mock",-1),F={href:"https://umijs.org/docs/guides/mock#mock-%E6%96%87%E4%BB%B6",target:"_blank",rel:"noopener noreferrer"},Q=e(`<div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token builtin class-name">.</span>
â”œâ”€â”€ mock
    â”œâ”€â”€ todos.ts
    â”œâ”€â”€ items.ts
    â””â”€â”€ users.ts
â””â”€â”€ src
    â””â”€â”€ pages
        â””â”€â”€ index.tsx
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,1),Y=s("code",null,"/mock",-1),X=s("code",null,"todos.ts",-1),Z=s("code",null,"items.ts",-1),nn=s("code",null,"users.ts",-1),sn={href:"https://umijs.org/docs/guides/mock#mock-%E6%96%87%E4%BB%B6",target:"_blank",rel:"noopener noreferrer"},an=e(`<h3 id="_7-2-mock-æ–‡ä»¶" tabindex="-1"><a class="header-anchor" href="#_7-2-mock-æ–‡ä»¶" aria-hidden="true">#</a> 7.2 Mock æ–‡ä»¶</h3><p>Mock æ–‡ä»¶é»˜è®¤å¯¼å‡ºä¸€ä¸ªå¯¹è±¡ï¼Œè€Œå¯¹è±¡çš„æ¯ä¸ª Key å¯¹åº”äº†ä¸€ä¸ª Mock æ¥å£ï¼Œå€¼åˆ™æ˜¯è¿™ä¸ªæ¥å£æ‰€å¯¹åº”çš„è¿”å›æ•°æ®ï¼Œä¾‹å¦‚è¿™æ ·çš„ Mock æ–‡ä»¶ï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token comment">// ./mock/users.ts</span>
 
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
 
  <span class="token comment">// è¿”å›å€¼å¯ä»¥æ˜¯æ•°ç»„å½¢å¼</span>
  <span class="token string-property property">&#39;GET /api/users&#39;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">&#39;foo&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">&#39;bar&#39;</span> <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
 
  <span class="token comment">// è¿”å›å€¼ä¹Ÿå¯ä»¥æ˜¯å¯¹è±¡å½¢å¼</span>
  <span class="token string-property property">&#39;GET /api/users/1&#39;</span><span class="token operator">:</span> <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">&#39;foo&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
 
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å°±å£°æ˜äº†ä¸¤ä¸ª Mock æ¥å£ï¼Œé€è¿‡ <code>GET /api/users</code> å¯ä»¥æ‹¿åˆ°ä¸€ä¸ªå¸¦æœ‰ä¸¤ä¸ªç”¨æˆ·æ•°æ®çš„æ•°ç»„ï¼Œé€è¿‡ <code>GET /api/users/1</code> å¯ä»¥æ‹¿åˆ°æŸä¸ªç”¨æˆ·çš„æ¨¡æ‹Ÿæ•°æ®ã€‚</p><h4 id="_7-2-1-è¯·æ±‚æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#_7-2-1-è¯·æ±‚æ–¹æ³•" aria-hidden="true">#</a> 7.2.1 è¯·æ±‚æ–¹æ³•</h4><p>å½“ Http çš„è¯·æ±‚æ–¹æ³•æ˜¯ GET æ—¶ï¼Œå¯ä»¥çœç•¥æ–¹æ³•éƒ¨åˆ†ï¼Œåªéœ€è¦è·¯å¾„å³å¯ï¼Œä¾‹å¦‚ï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token comment">// ./mock/users.ts</span>
 
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
 
  <span class="token string-property property">&#39;/api/users&#39;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">&#39;foo&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">&#39;bar&#39;</span> <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
 
  <span class="token string-property property">&#39;/api/users/1&#39;</span><span class="token operator">:</span> <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">&#39;foo&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
 
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¹Ÿå¯ä»¥ç”¨ä¸åŒçš„è¯·æ±‚æ–¹æ³•ï¼Œä¾‹å¦‚ <code>POST</code>ï¼Œ<code>PUT</code>ï¼Œ<code>DELETE</code>ï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token comment">// ./mock/users.ts</span>
 
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
 
  <span class="token string-property property">&#39;POST /api/users&#39;</span><span class="token operator">:</span> <span class="token punctuation">{</span> result<span class="token operator">:</span> <span class="token string">&#39;true&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
 
  <span class="token string-property property">&#39;PUT /api/users/1&#39;</span><span class="token operator">:</span> <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">&#39;new-foo&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
 
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_7-2-3-è‡ªå®šä¹‰å‡½æ•°" tabindex="-1"><a class="header-anchor" href="#_7-2-3-è‡ªå®šä¹‰å‡½æ•°" aria-hidden="true">#</a> 7.2.3 è‡ªå®šä¹‰å‡½æ•°</h4><p>é™¤äº†ç›´æ¥é™æ€å£°æ˜è¿”å›å€¼ï¼Œä¹Ÿå¯ä»¥ç”¨å‡½æ•°çš„æ–¹å¼æ¥å£°æ˜å¦‚ä½•è®¡ç®—è¿”å›å€¼ï¼Œä¾‹å¦‚ï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
 
  <span class="token string-property property">&#39;POST /api/users/create&#39;</span><span class="token operator">:</span> <span class="token punctuation">(</span>req<span class="token punctuation">,</span> res<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// æ·»åŠ è·¨åŸŸè¯·æ±‚å¤´</span>
    res<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">&#39;Access-Control-Allow-Origin&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;*&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token string">&#39;ok&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
 
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,12),tn=s("code",null,"req",-1),en=s("code",null,"res",-1),pn={href:"https://expressjs.com/en/api.html",target:"_blank",rel:"noopener noreferrer"},on=e(`<h4 id="_7-2-4-definemock" tabindex="-1"><a class="header-anchor" href="#_7-2-4-definemock" aria-hidden="true">#</a> 7.2.4 defineMock</h4><p>å¦å¤–ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ <code>defineMock</code> ç±»å‹å¸®åŠ©å‡½æ•°æ¥æä¾›ç¼–å†™ mock å¯¹è±¡çš„ä»£ç æç¤ºï¼Œå¦‚ï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> defineMock <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;umi&quot;</span><span class="token punctuation">;</span>
 
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineMock</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token string-property property">&quot;/api/users&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">&quot;foo&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">&quot;bar&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;/api/users/1&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">&quot;foo&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;GET /api/users/2&quot;</span><span class="token operator">:</span> <span class="token punctuation">(</span>req<span class="token punctuation">,</span> res<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    res<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">&quot;bar&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>defineMock</code> ä»…ä»…æä¾›ç±»å‹æç¤ºï¼Œå…¥å‚ä¸å‡ºå‚å®Œå…¨ä¸€è‡´ã€‚</p><h3 id="_7-3-å…³é—­-mock" tabindex="-1"><a class="header-anchor" href="#_7-3-å…³é—­-mock" aria-hidden="true">#</a> 7.3 å…³é—­ Mock</h3><p>Umi é»˜è®¤å¼€å¯ Mock åŠŸèƒ½ï¼Œå¦‚æœä¸éœ€è¦çš„è¯å¯ä»¥ä»é…ç½®æ–‡ä»¶å…³é—­ï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token comment">// .umirc.ts</span>
 
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  mock<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æˆ–æ˜¯ç”¨ç¯å¢ƒå˜é‡çš„æ–¹å¼å…³é—­ï¼š</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>MOCK=none umi dev
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_7-4-å¼•å…¥-mock-js" tabindex="-1"><a class="header-anchor" href="#_7-4-å¼•å…¥-mock-js" aria-hidden="true">#</a> 7.4 å¼•å…¥ Mock.js</h3>`,10),cn={href:"http://mockjs.com/",target:"_blank",rel:"noopener noreferrer"},ln=e(`<div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">import</span> mockjs <span class="token keyword">from</span> <span class="token string">&#39;mockjs&#39;</span><span class="token punctuation">;</span>
 
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token comment">// ä½¿ç”¨ mockjs ç­‰ä¸‰æ–¹åº“</span>
  <span class="token string-property property">&#39;GET /api/tags&#39;</span><span class="token operator">:</span> mockjs<span class="token punctuation">.</span><span class="token function">mock</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token string-property property">&#39;list|100&#39;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&#39;@city&#39;</span><span class="token punctuation">,</span> <span class="token string-property property">&#39;value|1-100&#39;</span><span class="token operator">:</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token string-property property">&#39;type|0-2&#39;</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,1);function un(rn,dn){const a=o("ExternalLinkIcon");return c(),i("div",null,[u,s("p",null,[n("è®¾ç½® less-loader çš„ Optionsã€‚å…·ä½“å‚è€ƒå‚è€ƒ "),s("a",r,[n("less-loader çš„ Options"),t(a)]),n("ã€‚")]),s("blockquote",null,[s("p",null,[n("é»˜è®¤æ˜¯ç”¨ less@4 ç‰ˆæœ¬ï¼Œå¦‚æœéœ€è¦å…¼å®¹ less@3 è¯·é…ç½®ä½¿ç”¨"),s("a",d,[n("less-options-math"),t(a)]),n("ã€‚")])]),k,s("p",null,[n("åœ¨ umi é‡Œé…ç½® title è¯·æŸ¥çœ‹ "),s("a",v,[n("é…ç½®æ ‡é¢˜"),t(a)]),n("ã€‚")]),m,s("p",null,[n("æŒ‰ç…§æ­¤ç§å¼•å…¥æ–¹å¼çš„æ ·å¼ä¼šåœ¨æ•´ä¸ª Umi é¡¹ç›®ä¸­ç”Ÿæ•ˆï¼Œå³æ— è®ºä½ ä»å“ªä¸ª "),b,n(" æ–‡ä»¶å¼•å…¥ï¼Œä»–å£°æ˜çš„æ ·å¼å¯ä»¥åœ¨ä»»ä½•é¡µé¢å’Œç»„ä»¶ä¸­ä½¿ç”¨ã€‚å¦‚æœä½ æƒ³è¦é¿å…è¿™ç§æƒ…å†µï¼Œå¯ä»¥ä½¿ç”¨ "),s("a",g,[n("CSS Modules"),t(a)]),n(" çš„åŠŸèƒ½æ¥é™åˆ¶æ ·å¼çš„ä½œç”¨åŸŸã€‚")]),h,s("p",null,[n("ä¸ºé¡¹ç›®å¼€å¯ "),s("a",y,[n("Tailwind CSS"),t(a)]),n(" é…ç½®ï¼Œå‘½ä»¤æ‰§è¡Œåï¼Œ"),f,n(" ä¼šç”Ÿæˆ Tailwind CSS å’Œå®‰è£…ç›¸åº”çš„çš„ä¾èµ–ã€‚")]),x,s("p",null,[n("ä¸ Tailwindcss ç›¸åŒï¼ŒUmi ä¹Ÿæä¾›äº†å†…ç½®çš„ "),s("a",_,[n("UnoCSS"),t(a)]),n(" æ’ä»¶ï¼Œå¯ä»¥æŒ‰ç…§ç›¸åŒæ–¹å¼å¼€å¯ã€‚")]),w,s("ol",q,[s("li",null,[n("åœ¨é¡¹ç›®ç›®å½•ä¸‹åŠ å…¥ "),j,n(" é…ç½®æ–‡ä»¶ï¼Œå¹¶åŠ å…¥é¡¹ç›®éœ€è¦çš„ "),s("a",S,[n("UnoCSS Presets"),t(a)])])]),C,s("p",null,[n("10K è¿™ä¸ªé˜ˆå€¼å¯ä»¥é€šè¿‡ "),s("a",M,[n("inlineLimit é…ç½®"),t(a)]),n("ä¿®æ”¹ã€‚")]),U,s("p",null,[n("åœ¨å¯ç”¨ "),T,n(" çš„åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬ä¹Ÿå»ºè®®ä¸ "),s("a",L,[n("Prettier"),t(a)]),n(" ä¸€åŒä½¿ç”¨ï¼Œä»¥ç¡®ä¿å›¢é˜Ÿçš„ä»£ç é£æ ¼æ˜¯åŸºæœ¬ä¸€è‡´çš„ã€‚")]),s("p",null,[n("ä¸ºé¡¹ç›®ç”Ÿæˆ "),s("a",E,[n("prettier"),t(a)]),n(" é…ç½®ï¼Œå‘½ä»¤æ‰§è¡Œåï¼Œ"),N,n(" ä¼šç”Ÿæˆæ¨èçš„ prettier é…ç½®å’Œå®‰è£…ç›¸åº”çš„ä¾èµ–ã€‚")]),A,s("p",null,[n("åœ¨ Umi åº”ç”¨æ˜¯"),s("a",P,[n("å•é¡µåº”ç”¨"),t(a)]),n("ï¼Œé¡µé¢åœ°å€çš„è·³è½¬éƒ½æ˜¯åœ¨æµè§ˆå™¨ç«¯å®Œæˆçš„ï¼Œä¸ä¼šé‡æ–°è¯·æ±‚æœåŠ¡ç«¯è·å– htmlï¼Œhtml åªåœ¨åº”ç”¨åˆå§‹åŒ–æ—¶åŠ è½½ä¸€æ¬¡ã€‚æ‰€æœ‰é¡µé¢ç”±ä¸åŒçš„ç»„ä»¶æ„æˆï¼Œé¡µé¢çš„åˆ‡æ¢å…¶å®å°±æ˜¯ä¸åŒç»„ä»¶çš„åˆ‡æ¢ï¼Œä½ åªéœ€è¦åœ¨é…ç½®ä¸­æŠŠä¸åŒçš„è·¯ç”±è·¯å¾„å’Œå¯¹åº”çš„ç»„ä»¶å…³è”ä¸Šã€‚")]),O,s("p",null,[n("å‘½ä»¤å¼è·³è½¬è¯·ä½¿ç”¨ "),s("a",B,[I,t(a)]),n(" API")]),W,s("p",null,[n("ç»„ä»¶å†…è¿˜å¯ä»¥ä½¿ç”¨ "),s("a",H,[J,t(a)]),n(" hook")]),D,s("p",null,[n("Umi4 ä½¿ç”¨ "),s("a",$,[n("react-router@6"),t(a)]),n(" ä½œä¸ºè·¯ç”±ç»„ä»¶ï¼Œè·¯ç”±å‚æ•°çš„è·å–ä½¿å…¶ hooksã€‚")]),G,R,V,K,s("p",null,[n("Umi çº¦å®š "),z,n(" ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ä¸º "),s("a",F,[n("Mock æ–‡ä»¶"),t(a)]),n("ï¼Œä¾‹å¦‚è¿™æ ·çš„ç›®å½•ç»“æ„ï¼š")]),Q,s("p",null,[n("åˆ™ "),Y,n(" ç›®å½•ä¸­çš„ "),X,n(", "),Z,n(" å’Œ "),nn,n(" å°±ä¼šè¢« Umi è§†ä¸º "),s("a",sn,[n("Mock æ–‡ä»¶"),t(a)]),n(" æ¥å¤„ç†ã€‚")]),an,s("p",null,[n("å…³äº "),tn,n(" å’Œ "),en,n(" çš„ API å¯å‚è€ƒ "),s("a",pn,[n("Express@4 å®˜æ–¹æ–‡æ¡£"),t(a)]),n(" æ¥è¿›ä¸€æ­¥äº†è§£ã€‚")]),on,s("p",null,[n("åœ¨ Mock ä¸­æˆ‘ä»¬ç»å¸¸ä½¿ç”¨ "),s("a",cn,[n("Mock.js"),t(a)]),n(" æ¥å¸®æˆ‘ä»¬æ–¹ä¾¿çš„ç”Ÿæˆéšæœºçš„æ¨¡æ‹Ÿæ•°æ®ï¼Œå¦‚æœä½ ä½¿ç”¨äº† Umi çš„ Mock åŠŸèƒ½ï¼Œå»ºè®®ä½ æ­é…è¿™ä¸ªåº“æ¥æå‡æ¨¡æ‹Ÿæ•°æ®çš„çœŸå®æ€§ï¼š")]),ln])}const mn=p(l,[["render",un],["__file","24-UmiJSåŸºç¡€.html.vue"]]);export{mn as default};
